<?xml version="1.0" encoding="utf-8"?>

<objects>

	<script directory="gui/common/"/>
	<script directory="gui/pregame/"/>
	<script directory="gui/pregame/backgrounds/"/>

	<!--
	==========================================
	- MAIN MENU
	==========================================
	-->
	<object>

		<action on="Tick">
			onTick();
		</action>

		<repeat count="5">
			<object name="background[n]"
				type="image"
				hidden="true"
				ghost="true"
			/>
		</repeat>

		<!--
		==========================================
		- MAIN MENU - STATIC TOOLTIP WINDOW
		==========================================
		-->
		<object name="pgToolTip"
			style="TranslucentPanel"
			type="text"
			hidden="true"
			size="100%-290 25 100% 140"
			ghost="true"
		/>

		<!--
		==========================================
		- MAIN MENU - USER REPORT
		==========================================
		-->
		<object
			name="userReportDisabled"
			size="100%-304 100%-154 100%-4 100%-4"
			type="image"
			style="userReportPanel"
		>
			<object
				type="text"
				style="userReportText"
			>
				<attribute id="caption">
					<keep>[font="sans-bold-16"]</keep>
					<translate>Help improve 0 A.D.!</translate>
					<keep>[/font]\n</keep>
					<translate>You can automatically send us anonymous feedback that will help us fix bugs, and improve performance and compatibility.</translate>
				</attribute>
			</object>
			<object type="button" style="StoneButton" size="8 100%-36 146 100%-8">
				<translatableAttribute id="caption">Enable Feedback</translatableAttribute>
				<action on="Press">EnableUserReport(true);</action>
			</object>
			<object type="button" style="StoneButton" size="100%-146 100%-36 100%-8 100%-8">
				<translatableAttribute id="caption">Technical Details</translatableAttribute>
				<action on="Press">
					Engine.PushGuiPage("page_manual.xml", {
						"page": "manual/userreport",
						"title": getTechnicalDetails()
					});
				</action>
			</object>
		</object>

		<object
			name="userReportEnabled"
			size="100%-304 100%-154 100%-4 100%-4"
			type="image"
			style="userReportPanel"
		>
			<object
				name="userReportEnabledText"
				type="text"
				style="userReportText"
			/>

			<object type="button" style="StoneButton" size="8 100%-36 146 100%-8">
				<translatableAttribute id="caption">Disable Feedback</translatableAttribute>
				<action on="Press">EnableUserReport(false);</action>
			</object>
			<object type="button" style="StoneButton" size="100%-146 100%-36 100%-8 100%-8">
				<translatableAttribute id="caption">Technical Details</translatableAttribute>
				<action on="Press">
					Engine.PushGuiPage("page_manual.xml", {
						"page": "manual/userreport",
						"title": getTechnicalDetails()
					});
				</action>
			</object>
		</object>


		<!--
		==========================================
		- SUBMENU
		==========================================
		-->

		<object hotkey="cancel">
			<action on="Press">
				closeMenu();
			</action>
		</object>

		<!-- hide submenu when user clicks on the background -->
		<object type="button">
			<action on="Press">
				closeMenu();
			</action>
		</object>

		<!-- submenu -->
		<object name="submenu"
			type="image"
			style="SubmenuPanel"
			size="60 50%-100 300 50%+100"
			hidden="true"
		>
			<!-- submenuLearnToPlay -->
			<object name="submenuLearn"
				type="image"
				size="0 4 100%-4 100%-4"
				tooltip_style="pgToolTip"
				hidden="true"
			>
				<!-- LEARN TO PLAY BUTTON -->
				<object
					type="button"
					style="SpaceButton"
					size="0 0 100% 28"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Manual</translatableAttribute>
					<translatableAttribute id="tooltip">Open the 0 A.D. Game Manual.</translatableAttribute>
					<action on="Press">
						closeMenu();
						Engine.PushGuiPage("page_manual.xml", {
							"page": "manual/intro",
							"title": getManual(),
							"url": "http://trac.wildfiregames.com/wiki/0adManual"
						});
					</action>
				</object>

				<!-- START TUTORIAL BUTTON -->
				<object
					type="button"
					style="SpaceButton"
					size="0 32 100% 60"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Tutorial</translatableAttribute>
					<translatableAttribute id="tooltip">Start the economic tutorial.</translatableAttribute>
					<action on="Press">
						Engine.SwitchGuiPage("page_gamesetup.xml", { "type": "offline", "tutorial": true });
					</action>
				</object>

			</object>

			<!-- submenuSinglePlayer -->
			<object name="submenuSinglePlayer"
				type="image"
				size="0 4 100%-4 100%-4"
				tooltip_style="pgToolTip"
				hidden="true"
			>
				<object
					type="button"
					style="SpaceButton"
					size="0 0 100% 28"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Matches</translatableAttribute>
					<translatableAttribute id="tooltip">Click here to start a new single player game.</translatableAttribute>
					<action on="Press">
						Engine.SwitchGuiPage("page_gamesetup.xml", { "type": "offline" });
					</action>
				</object>

				<object
					type="button"
					style="SpaceButton"
					size="0 32 100% 60"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Load Game</translatableAttribute>
					<translatableAttribute id="tooltip">Click here to load a saved game.</translatableAttribute>
					<action on="Press">
						closeMenu();
						Engine.PushGuiPage("page_loadgame.xml", { "type": "offline" });
					</action>
				</object>

				<object
					type="button"
					style="SpaceButton"
					size="0 64 100% 92"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Replays</translatableAttribute>
					<translatableAttribute id="tooltip">Playback previous games.</translatableAttribute>
					<action on="Press">
						closeMenu();
						Engine.SwitchGuiPage("page_replaymenu.xml", {
							"replaySelectionData": {
								"filters": {
									"singleplayer": "Singleplayer"
								}
							}
						});
					</action>
				</object>
			</object>

			<!-- submenuOptions -->
			<object name="submenuOptions"
				type="image"
				size="0 4 100%-4 100%-4"
				tooltip_style="pgToolTip"
				hidden="true"
			>
				<object
					style="SpaceButton"
					type="button"
					size="0 0 100% 28"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Options</translatableAttribute>
					<translatableAttribute id="tooltip">Adjust game settings.</translatableAttribute>
					<action on="Press">
						closeMenu();
						Engine.PushGuiPage("page_options.xml");
					</action>
				</object>

				<object
					style="SpaceButton"
					type="button"
					size="0 32 100% 60"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Language</translatableAttribute>
					<translatableAttribute id="tooltip">Choose the language of the game.</translatableAttribute>
					<action on="Press">
						closeMenu();
						Engine.PushGuiPage("page_locale.xml");
					</action>
				</object>

				<object
					style="SpaceButton"
					type="button"
					size="0 64 100% 92"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Mod Selection</translatableAttribute>
					<translatableAttribute id="tooltip">Select and download mods for the game.</translatableAttribute>
					<action on="Press">
						Engine.SwitchGuiPage("page_modmod.xml");
					</action>
				</object>
				<object
					style="SpaceButton"
					type="button"
					size="0 96 100% 124"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Welcome Screen</translatableAttribute>
					<translatableAttribute id="tooltip">Show the Welcome Screen. Useful if you hid it by mistake.</translatableAttribute>
					<action on="Press">
						closeMenu();
						Engine.PushGuiPage("page_splashscreen.xml", {
							"page": "splashscreen",
							"callback": "SplashScreenClosedCallback"
						});
					</action>
				</object>
			</object>
		</object>


		<!--
		==========================================
		- MAIN MENU PANEL
		==========================================
		-->
		<object name="mainMenu"
			type="image"
			style="MainMenuPanel"
			size="64 0 566 100%"
			z="50"
		>

			<object
				type="image"
				sprite="productLogo"
				ghost="true"
				size="16 30 236 130"
			/>

			<object
				type="image"
				size="4 156 100% 356"
				ghost="false"
			>
				<!-- LEARN BUTTON -->
				<object
					style="SpaceButton"
					type="button"
					size="0 0 100% 40"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Learn to Play</translatableAttribute>
					<translatableAttribute id="tooltip">Learn how to play, start the tutorial, discover the technology trees, and the history behind the civilizations</translatableAttribute>
					<action on="Press">
						closeMenu();
						openMenu("submenuLearn", this.parent.size.top + this.size.top, this.size.bottom - this.size.top, 2);
					</action>
				</object>

				<!-- SINGLEPLAYER BUTTON -->
				<object
					style="SpaceButton"
					type="button"
					size="0 40 100% 80"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Single Player</translatableAttribute>
					<translatableAttribute id="tooltip">Challenge the computer player to a single player match.</translatableAttribute>
					<action on="Press">
						closeMenu();
						openMenu("submenuSinglePlayer", this.parent.size.top + this.size.top, this.size.bottom - this.size.top, 3);
					</action>
				</object>

				<!-- OPTIONS BUTTON -->
				<object
					style="SpaceButton"
					type="button"
					size="0 80 100% 120"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Settings</translatableAttribute>
					<translatableAttribute id="tooltip">Game options and mod selection.</translatableAttribute>
					<action on="Press">
						closeMenu();
						openMenu("submenuOptions", this.parent.size.top + this.size.top, this.size.bottom - this.size.top, 4);
					</action>
				</object>

				<!-- SCENARIO EDITOR BUTTON -->
				<object
					style="SpaceButton"
					type="button"
					size="0 120 100% 160"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Scenario Editor</translatableAttribute>
					<translatableAttribute id="tooltip">Open the Atlas Scenario Editor in a new window. You can run this more reliably by starting the game with the command-line argument &quot;-editor&quot;.</translatableAttribute>
					<action on="Press">
						pressedScenarioEditorButton();
					</action>
				</object>

				<!-- EXIT BUTTON -->
				<object
					type="button"
					style="SpaceButton"
					size="0 160 100% 200"
					tooltip_style="pgToolTip"
				>
					<translatableAttribute id="caption">Exit</translatableAttribute>
					<translatableAttribute id="tooltip">Exits the game.</translatableAttribute>
					<action on="Press">exitGamePressed();</action>
				</object>
			</object>

			<!-- LOGO AND BUILD VERSION -->
			<object
				size="0 100%-84 128 100%-56"
				ghost="true"
			>

				<!-- COMPANY LOGO -->
				<object
					type="image"
					sprite="companyLogo"
					ghost="true"
					size="50%-16 0 50%+16 32"
				/>

				<!-- COMPANY NAME -->
				<object type="text"
					style="MediumTitleText"
					ghost="true"
					size="50%-128 32 50%+128 48"
				>
					<translatableAttribute id="caption">WILDFIRE GAMES</translatableAttribute>
				</object>
			</object>

			<!-- VERSION -->
			<object
				type="text"
				style="MediumTitleText"
				ghost="true"
				size="0 100%-36 164 100%"
			>
				<action on="Load">
					this.caption = getBuildString();
				</action>
			</object>
		</object>
	</object>

</objects>
